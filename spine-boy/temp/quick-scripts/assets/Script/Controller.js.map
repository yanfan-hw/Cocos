{"version":3,"sources":["Controller.js"],"names":["cc","Class","extends","Component","properties","onLoad","physics_manager","director","getPhysicsManager","enabled","gravity","v2","Emitter","instance","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","KEY_UP","onKeyUp","event","keyCode","macro","KEY","left","emit","right","a","d","up","w","down","update","dt","onDestroy","off"],"mappings":"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","file":"Controller.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["import Emitter from 'mEmitter';\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        let physics_manager = cc.director.getPhysicsManager();\n        physics_manager.enabled = true;\n        physics_manager.gravity = cc.v2(0, -2000);\n\n        Emitter.instance = new Emitter();\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n    },\n\n    onKeyDown(event) {\n        switch (event.keyCode) {\n            case cc.macro.KEY.left:\n                Emitter.instance.emit('leftDown');\n                break;\n            case cc.macro.KEY.right:\n                Emitter.instance.emit('rightDown');\n                break;\n            case cc.macro.KEY.a:\n                Emitter.instance.emit('leftDown');\n                break;\n            case cc.macro.KEY.d:\n                Emitter.instance.emit('rightDown');\n                break;\n            case cc.macro.KEY.up:\n                Emitter.instance.emit('upKeyDown');\n                break;\n            case cc.macro.KEY.w:\n                Emitter.instance.emit('upKeyDown');\n                break;\n            case cc.macro.KEY.down:\n                Emitter.instance.emit('downKeyDown');\n                break;\n        }\n    },\n    onKeyUp(event) {\n        switch (event.keyCode) {\n            case cc.macro.KEY.left:\n                Emitter.instance.emit('leftUp');\n                break;\n            case cc.macro.KEY.right:\n                Emitter.instance.emit('rightUp');\n                break;\n            case cc.macro.KEY.a:\n                Emitter.instance.emit('leftUp');\n                break;\n            case cc.macro.KEY.d:\n                Emitter.instance.emit('rightUp');\n                break;\n            case cc.macro.KEY.up:\n                Emitter.instance.emit('upKeyUp');\n                break;\n            case cc.macro.KEY.w:\n                Emitter.instance.emit('upKeyUp');\n                break;\n            case cc.macro.KEY.down:\n                Emitter.instance.emit('downKeyUp');\n                break;\n        }\n    },\n    // called every frame\n    update: function (dt) {\n\n    },\n    onDestroy() {\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\n    },\n});\n"]}